{
  "tool": "pistar.2.1.0",
  "istar": "2.0",
  "diagram": {
    "name": "FixPro External Maintenance – SD Model",
    "width": 1000,
    "height": 700,
    "customProperties": { "Description": "Collapsed actors and compact layout with clarified dependencies." }
  },

  "actors": [
    { "id": "actor-pb",  "text": "ProBuild staff", "type": "istar.Actor", "x": 120, "y": 140, "customProperties": {}, "nodes": [] },
    { "id": "actor-pws", "text": "Warehouse Supervisor", "type": "istar.Actor", "x": 320, "y": 140, "customProperties": {}, "nodes": [] },
    { "id": "actor-fd",  "text": "FixPro Driver", "type": "istar.Actor", "x": 520, "y": 140, "customProperties": {}, "nodes": [] },
    { "id": "actor-ft",  "text": "FixPro Technicians", "type": "istar.Actor", "x": 120, "y": 320, "customProperties": {}, "nodes": [] },
    { "id": "actor-tw",  "text": "Testing & Labelling workers", "type": "istar.Actor", "x": 320, "y": 320, "customProperties": {}, "nodes": [] },
    { "id": "actor-am",  "text": "FixPro Account Manager", "type": "istar.Actor", "x": 520, "y": 320, "customProperties": {}, "nodes": [] },
    { "id": "actor-om",  "text": "ProBuild Operations Manager", "type": "istar.Actor", "x": 720, "y": 140, "customProperties": {}, "nodes": [] },
    { "id": "actor-api", "text": "Online system / API", "type": "istar.Actor", "x": 720, "y": 320, "customProperties": {}, "nodes": [] }
  ],

  "dependencies": [
    { "id": "d-weekly-collect", "text": "Weekly collection & drop off", "type": "istar.Task", "x": 320, "y": 100, "customProperties": {}, "source": "actor-pb", "target": "actor-fd" },
    { "id": "d-signed-checklist", "text": "Signed checklist", "type": "istar.Resource", "x": 520, "y": 180, "customProperties": {}, "source": "actor-fd", "target": "actor-pws" },
    { "id": "d-repair-author", "text": "Repair authorisation for > £50", "type": "istar.Resource", "x": 420, "y": 60, "customProperties": { "rule": "Repairs > 50 GBP require prior ProBuild authorisation" }, "source": "actor-pb", "target": "actor-om" },
    { "id": "d-tested-labelled", "text": "Tested & labelled tools", "type": "istar.Resource", "x": 220, "y": 260, "customProperties": {}, "source": "actor-ft", "target": "actor-pb" },
    { "id": "d-labels-report", "text": "Labels & Test Report", "type": "istar.Resource", "x": 320, "y": 260, "customProperties": {}, "source": "actor-tw", "target": "actor-pb" },
    { "id": "d-fleet-review", "text": "Fleet review meeting (optimize hire fleet)", "type": "istar.Goal", "x": 620, "y": 260, "customProperties": {}, "source": "actor-am", "target": "actor-om" },
    { "id": "d-digital-handover", "text": "Digital handover checklist", "type": "istar.Resource", "x": 620, "y": 180, "customProperties": {}, "source": "actor-api", "target": "actor-pb" }
  ],

  "links": [
    { "id": "l1",  "type": "istar.DependencyLink", "source": "actor-pb", "target": "d-weekly-collect" },
    { "id": "l2",  "type": "istar.DependencyLink", "source": "d-weekly-collect", "target": "actor-fd" },

    { "id": "l3",  "type": "istar.DependencyLink", "source": "actor-fd", "target": "d-signed-checklist" },
    { "id": "l4",  "type": "istar.DependencyLink", "source": "d-signed-checklist", "target": "actor-pws" },

    { "id": "l5",  "type": "istar.DependencyLink", "source": "actor-pb", "target": "d-repair-author" },
    { "id": "l6",  "type": "istar.DependencyLink", "source": "d-repair-author", "target": "actor-om" },

    { "id": "l7",  "type": "istar.DependencyLink", "source": "actor-ft", "target": "d-tested-labelled" },
    { "id": "l8",  "type": "istar.DependencyLink", "source": "d-tested-labelled", "target": "actor-pb" },

    { "id": "l9",  "type": "istar.DependencyLink", "source": "actor-tw", "target": "d-labels-report" },
    { "id": "l10", "type": "istar.DependencyLink", "source": "d-labels-report", "target": "actor-pb" },

    { "id": "l11", "type": "istar.DependencyLink", "source": "actor-am", "target": "d-fleet-review" },
    { "id": "l12", "type": "istar.DependencyLink", "source": "d-fleet-review", "target": "actor-om" },

    { "id": "l13", "type": "istar.DependencyLink", "source": "actor-api", "target": "d-digital-handover" },
    { "id": "l14", "type": "istar.DependencyLink", "source": "d-digital-handover", "target": "actor-pb" }
  ],

  "display": {
    "actor-pb": {"collapsed": true},
    "actor-pws": {"collapsed": true},
    "actor-fd": {"collapsed": true},
    "actor-ft": {"collapsed": true},
    "actor-tw": {"collapsed": true},
    "actor-am": {"collapsed": true},
    "actor-om": {"collapsed": true},
    "actor-api": {"collapsed": true}
  },

  "notes": {
    "hard_goals": {
      "turnaround": "90% of tools serviced within 5 business days",
      "first_time_fix": ">= 85% first-time fix rate",
      "compliance": "100% adherence to UK safety standards",
      "repair_threshold": "Repairs > £50 require prior authorisation"
    },
    "soft_goals": [
      "Ensure safety",
      "Efficient turnaround",
      "Operational readiness",
      "Minimal tool downtime",
      "Dedicated service",
      "Avoid in-house investment by ProBuild",
      "Optimise the hire fleet"
    ]
  }
}
